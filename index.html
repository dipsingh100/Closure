<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Closure</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <h1 class="title">Closure Handson</h1>
    <div class="question">
      <h3>Q1. What is the output?</h3>
      <pre>
            "function counter(){
                var counter = 0;
            
                function IncreaseCounter() {
                    return counter += 1;
                };
            
                return IncreaseCounter;
            }
            
            var counter = counter();
            alert(counter());
            alert(counter());
            alert(counter());
            alert(counter());"
          </pre>
      <h3>Ans.-</h3>
      The given JavaScript code defines a function counter that creates a closure and returns an inner function IncreaseCounter. This inner function increments a counter variable counter defined in the outer function's scope.
      "var counter = counter();" invokes the counter function and assigns the returned inner function IncreaseCounter to the variable counter.
      Since the variable counter now holds the inner function IncreaseCounter, calling counter() executes the inner function and increments the counter variable each time it is called. The alert function is used to display the returned value from each invocation.
      When the code is executed, it displays the following sequence of alerts:
      <pre>
        1
        2
        3
        4
      </pre>
      <hr />
    </div>
    <div class="question">
      <h3>Q2. What is the output?</h3>
      <pre>
        "let count = 0;
        (function () {
          if (count === 0) {
            let count = 1;
            console.log(count); // What is logged?
          }
          console.log(count); // What is logged?
        })();"
    </pre>

      <h3>Ans.-</h3>
      <pre>
        1
        0
      </pre>
      <hr />
    </div>
    <div class="question">
      <h3>Q3. What is the output?</h3>
      <pre>
        for (var i = 0; i < 3; i++) {
            setTimeout(function log() {
              console.log(i); // What is logged?
            }, 1000);
          }</pre>
      <br />
      <h3>Ans.-</h3>
      <pre>
            3
            3
            3
      </pre>
      In this code, a setTimeout function is used inside a for loop. The setTimeout function schedules the execution of the provided callback function (log) after a specified delay of 1000 milliseconds (1 second).

During the loop, the callback function is defined, which logs the value of the variable i to the console.

However, due to the asynchronous nature of JavaScript, the setTimeout function will not immediately execute the callback function. Instead, it will wait for the specified delay and then execute the callback function.
In the loop, the variable i is declared using var, which has function scope. This means that there is only one i variable shared among all iterations of the loop.

By the time the first setTimeout callback function is executed after 1 second, the for loop has already completed its iterations, and the value of i is 3.

Therefore, when the callback function is executed for all three iterations of the loop, it accesses the shared i variable, which has a value of 3 at that point. As a result, the output will be three instances of the number 3 being logged to the console.
      <hr />
    </div>
    <div class="question">
      <h3>Q4. Write a code to calculate area of a rectangle using inner function. In this case outer function should accept parameter length and inner function should accept parameter breadth.?</h3>
      <h3>Ans.-</h3>
      <pre>
        function getLength(length){
            function getBreadth(breadth){
              return length*breadth
            }
            return getBreadth
          }
          
          
          const l = getLength(3)
          const b = l(4);
          console.log(b)
      </pre>
      <hr />
    </div>
    <div class="question">
      <h3>Q5. Take a variable in outer function and create an inner function to increase the counter every time it is called?</h3>
      <h3>Ans.-</h3>
      <pre>
        function outer(){
            var v=0;
            function inner(){
              v++;
              console.log(v)
            }
            return inner;
          }
          
          const o = outer();
          o();
          o();
          o();
      </pre>
      <hr />
    </div>
    <div class="question">
      <h3>Q6. What is the output?</h3>
      <pre>
        var a = 12;
        (function () {
          alert(a);
        })();"
          </pre>
      <h3>Ans.-</h3>
        <p>alert will display having the value 12</p>
      <hr />
    </div>
    <div class="question">
      <h3>Q7. What is the output?</h3>
      <pre>
        "var a = 10;
        var x = (function () {
          var a = 12;
          return function () {
            alert(a);
          };
        })();
        x();"
          </pre>
      <h3>Ans.-</h3>
      <p>Alert will display having the value 12</p>
      <hr />
    </div>
    <div class="question">
      <h3>Q8. What is the output?</h3>
      <pre>
        "var globalVar = "xyz";

        (function outerFunc(outerArg) {
          var outerVar = "a";
        
          (function innerFunc(innerArg) {
            var innerVar = "b";
        
            console.log("outerArg = " + outerArg +
                "\n" + "innerArg = " + innerArg +
                "\n" + "outerVar = " + outerVar +
                "\n" + "innerVar = " + innerVar +
                "\n" + "globalVar = " + globalVar
            );
          })(456);
        })(123);"
          </pre>
      <h3>Ans.-</h3>
      <pre>
        outerArg = 123
        innerArg = 456
        outerVar = a
        innerVar = b
        globalVar = xyz
      </pre>
      <hr />
    </div>
    <script src="script.js"></script>
  </body>
</html>
